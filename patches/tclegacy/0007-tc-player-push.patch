From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
Subject: [PATCH 7/7] tc: forward player velocity to overlay for push interaction

Grab first client's velocity and forward it into TC overlay each frame.
This is a minimal demo hook for playerâ†’physics impulse.

---
 src/game/g_main.c | 12 ++++++++++++
 1 file changed, 12 insertions(+ )

--- a/src/game/g_main.c
+++ b/src/game/g_main.c
@@
+#ifdef TC_PHYSICS
+extern void TC_Physics_ApplyPlayerPush(const float vel[3]);
+#endif
@@ void G_RunFrame( int levelTime ) {
+#ifdef TC_PHYSICS
+    if ( level.numConnectedClients > 0 ) {
+        int clNum = level.sortedClients[0];
+        gclient_t *cl = &level.clients[clNum];
+        float v[3] = { cl->ps.velocity[0], cl->ps.velocity[1], cl->ps.velocity[2] };
+        TC_Physics_ApplyPlayerPush( v );
+    }
+#endif
